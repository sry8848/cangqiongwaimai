优化点：基于 Redis + 定时任务的高并发统计报表优化

读写分离与性能提升：
写策略：业务发生时（如用户注册、订单完成），利用 Redis 原子命令（INCR/INCRBYFLOAT）进行 O(1) 实时累加，避免频繁锁表。
读策略：查询报表时，使用 Redis Pipeline/MGET 批量拉取数据，将 N 次网络请求压缩为 1 次，极大降低 I/O 开销。

极致的兜底容灾机制（亮点）：
针对缓存击穿/丢失场景，设计了**“历史基准 + 每日增量”**的内存推演算法。
无论缺失多少天数据，只执行 2 条 SQL（查历史总数 + 查区间增量）即可在内存中重构完整时间线，并自动回写预热 Redis，彻底解决了循环查库（N+1）问题。

数据最终一致性保障：
采用**“日终校准”**策略，通过 Spring Task 每日凌晨 2 点基于 MySQL 精确数据生成快照覆盖 Redis。
实现了**“软过期”**设计（TTL 30天），既保证了热点数据常驻内存，又自动清理冷数据防止内存溢出。

工程严谨性优化：
全链路将统计字段升级为 Long 类型，杜绝海量数据下的 Integer 溢出风险。
使用 StringRedisTemplate 替代默认模板，避免序列化乱码，支持跨语言读取与原子计数。

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------